{"openapi":"3.1.0","info":{"title":"Collink - College Predictor API","description":"API for predicting colleges based on competitive exam ranks (JEE, NEET, IELTS)","version":"1.0.0"},"paths":{"/api/v1/predict":{"post":{"tags":["prediction","predictions"],"summary":"Predict Colleges","description":"Predict colleges based on exam rank and category","operationId":"predict_colleges_api_v1_predict_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/data-status":{"get":{"tags":["prediction","predictions"],"summary":"Get Data Status","description":"Get current data loading status","operationId":"get_data_status_api_v1_data_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/preload-data/{exam}":{"post":{"tags":["prediction","predictions"],"summary":"Preload Exam Data","description":"Preload full data for a specific exam","operationId":"preload_exam_data_api_v1_preload_data__exam__post","parameters":[{"name":"exam","in":"path","required":true,"schema":{"type":"string","title":"Exam"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/performance-test":{"get":{"tags":["prediction","predictions"],"summary":"Performance Test","description":"Test API performance with sample queries","operationId":"performance_test_api_v1_performance_test_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/college/{college_name}":{"get":{"tags":["college"],"summary":"Get College Details","description":"Get detailed information about a specific college","operationId":"get_college_details_api_v1_college__college_name__get","parameters":[{"name":"college_name","in":"path","required":true,"schema":{"type":"string","title":"College Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/college/{college_name}/cutoffs":{"get":{"tags":["college"],"summary":"Get College Cutoffs","description":"Get cutoff information for a specific college","operationId":"get_college_cutoffs_api_v1_college__college_name__cutoffs_get","parameters":[{"name":"college_name","in":"path","required":true,"schema":{"type":"string","title":"College Name"}},{"name":"exam","in":"query","required":false,"schema":{"type":"string","default":"jee","title":"Exam"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/colleges":{"get":{"tags":["college"],"summary":"Get All Colleges","description":"Get list of all colleges, optionally filtered by exam","operationId":"get_all_colleges_api_v1_colleges_get","parameters":[{"name":"exam","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Exam"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","description":"Maximum number of colleges to return; pass 0 or a negative value for no limit","default":50,"title":"Limit"},"description":"Maximum number of colleges to return; pass 0 or a negative value for no limit"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/colleges/by-ranking":{"get":{"tags":["college"],"summary":"Get Colleges By Ranking","description":"Get colleges sorted by NIRF ranking","operationId":"get_colleges_by_ranking_api_v1_colleges_by_ranking_get","parameters":[{"name":"category","in":"query","required":false,"schema":{"type":"string","default":"engineering","title":"Category"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/college/{college_name}/insights":{"get":{"tags":["college"],"summary":"Get College Insights","description":"Get comprehensive insights about a college including ratings, pros/cons, fees","operationId":"get_college_insights_api_v1_college__college_name__insights_get","parameters":[{"name":"college_name","in":"path","required":true,"schema":{"type":"string","title":"College Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/college/{college_name}/ratings":{"get":{"tags":["college"],"summary":"Get College Ratings","description":"Get detailed ratings breakdown for a college","operationId":"get_college_ratings_api_v1_college__college_name__ratings_get","parameters":[{"name":"college_name","in":"path","required":true,"schema":{"type":"string","title":"College Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/college/{college_name}/fees":{"get":{"tags":["college"],"summary":"Get College Fees","description":"Get detailed fee structure for a college","operationId":"get_college_fees_api_v1_college__college_name__fees_get","parameters":[{"name":"college_name","in":"path","required":true,"schema":{"type":"string","title":"College Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/college/{college_name}/placement":{"get":{"tags":["college"],"summary":"Get College Placement","description":"Get detailed placement statistics for a college","operationId":"get_college_placement_api_v1_college__college_name__placement_get","parameters":[{"name":"college_name","in":"path","required":true,"schema":{"type":"string","title":"College Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/colleges/fee-filter":{"get":{"tags":["college"],"summary":"Filter Colleges By Fee","description":"Filter colleges by fee range with caste-based fee consideration\ncategory options: general, obc_ncl, sc_st, pwd\nexam_type options: engineering, medical, all","operationId":"filter_colleges_by_fee_api_v1_colleges_fee_filter_get","parameters":[{"name":"min_fee","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Min Fee"}},{"name":"max_fee","in":"query","required":false,"schema":{"type":"integer","default":1000000,"title":"Max Fee"}},{"name":"category","in":"query","required":false,"schema":{"type":"string","default":"general","title":"Category"}},{"name":"exam_type","in":"query","required":false,"schema":{"type":"string","default":"engineering","title":"Exam Type"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/colleges/fee-comparison":{"get":{"tags":["college"],"summary":"Compare Fees By Category","description":"Compare fees across different categories for specified colleges\ncollege_names: comma-separated list of college names","operationId":"compare_fees_by_category_api_v1_colleges_fee_comparison_get","parameters":[{"name":"college_names","in":"query","required":true,"schema":{"type":"string","title":"College Names"}},{"name":"exam_type","in":"query","required":false,"schema":{"type":"string","default":"engineering","title":"Exam Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/colleges/affordable":{"get":{"tags":["college"],"summary":"Get Affordable Colleges","description":"Get most affordable colleges for a specific category and budget","operationId":"get_affordable_colleges_api_v1_colleges_affordable_get","parameters":[{"name":"category","in":"query","required":false,"schema":{"type":"string","default":"general","title":"Category"}},{"name":"max_budget","in":"query","required":false,"schema":{"type":"integer","default":200000,"title":"Max Budget"}},{"name":"exam_type","in":"query","required":false,"schema":{"type":"string","default":"engineering","title":"Exam Type"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/colleges/states":{"get":{"tags":["college"],"summary":"Get Supported States","description":"Return the list of states available in the datasets.","operationId":"get_supported_states_api_v1_colleges_states_get","parameters":[{"name":"exam","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Exam dataset to derive states from","default":"jee","title":"Exam"},"description":"Exam dataset to derive states from"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/colleges/by-state":{"get":{"tags":["college"],"summary":"Get Colleges By State","description":"Get colleges for a given state, optionally filtered by ownership (Government/Private).\nOwnership is taken from state-specific datasets when available; otherwise inferred best-effort.","operationId":"get_colleges_by_state_api_v1_colleges_by_state_get","parameters":[{"name":"state","in":"query","required":true,"schema":{"type":"string","description":"State name to filter by (case-insensitive)","title":"State"},"description":"State name to filter by (case-insensitive)"},{"name":"ownership","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by ownership: government | private","title":"Ownership"},"description":"Filter by ownership: government | private"},{"name":"exam","in":"query","required":false,"schema":{"type":"string","description":"Exam dataset to query against","default":"jee","title":"Exam"},"description":"Exam dataset to query against"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","description":"Maximum number of colleges to return; pass 0 or a negative value for no limit","default":100,"title":"Limit"},"description":"Maximum number of colleges to return; pass 0 or a negative value for no limit"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/search":{"get":{"tags":["search"],"summary":"Search Colleges","description":"Search colleges by name with fuzzy matching","operationId":"search_colleges_api_v1_search_get","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","description":"Search term for college name","title":"Query"},"description":"Search term for college name"},{"name":"exam","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by exam (jee, neet, ielts)","title":"Exam"},"description":"Filter by exam (jee, neet, ielts)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","description":"Maximum number of results","default":10,"title":"Limit"},"description":"Maximum number of results"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/search/suggestions":{"get":{"tags":["search"],"summary":"Get Search Suggestions","description":"Get search suggestions based on partial input","operationId":"get_search_suggestions_api_v1_search_suggestions_get","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","description":"Partial search term","title":"Query"},"description":"Partial search term"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","description":"Maximum number of suggestions","default":5,"title":"Limit"},"description":"Maximum number of suggestions"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/search/popular":{"get":{"tags":["search"],"summary":"Get Popular Colleges","description":"Get popular colleges based on search frequency or ranking","operationId":"get_popular_colleges_api_v1_search_popular_get","parameters":[{"name":"exam","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Exam"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/trends":{"get":{"tags":["features"],"summary":"Get Rank Trends","description":"Return cutoff rank trends for the past N years for a college.\nFalls back to synthetic trends when historical data is unavailable.","operationId":"get_rank_trends_api_v1_trends_get","parameters":[{"name":"college","in":"query","required":true,"schema":{"type":"string","title":"College"}},{"name":"exam","in":"query","required":false,"schema":{"type":"string","default":"jee","title":"Exam"}},{"name":"years","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Years"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/summary":{"post":{"tags":["features"],"summary":"Ai Summary","description":"Return an auto-generated pros/cons and summary for a college using local data.\nThis does not call external services and works offline.","operationId":"ai_summary_api_v1_ai_summary_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AISummaryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/predict/future":{"post":{"tags":["features"],"summary":"Predict Future College","description":"Estimate potential colleges by projecting rank improvement using mock scores.\nSimplified heuristic: average mock score improvement maps to rank reduction.","operationId":"predict_future_college_api_v1_predict_future_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FuturePredictionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/saves":{"post":{"tags":["features"],"summary":"Save College","operationId":"save_college_api_v1_saves_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaveRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["features"],"summary":"List Saves","operationId":"list_saves_api_v1_saves_get","parameters":[{"name":"user_id","in":"query","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/compare":{"post":{"tags":["features"],"summary":"Compare Colleges","operationId":"compare_colleges_api_v1_compare_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompareRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/alerts/subscribe":{"post":{"tags":["features"],"summary":"Subscribe Alerts","operationId":"subscribe_alerts_api_v1_alerts_subscribe_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AlertSubscribeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/alerts":{"get":{"tags":["features"],"summary":"List Alerts","operationId":"list_alerts_api_v1_alerts_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/ai/chat":{"post":{"tags":["features"],"summary":"Ai Chat","description":"Simple chat endpoint:\n- provider=openai: uses OpenAI Chat Completions (via REST)\n- provider=google: uses Gemini generateContent\n- default: local heuristic summary using available college data\nEnvironment variables:\n  - OPENAI_API_KEY (for provider=openai)\n  - GOOGLE_API_KEY (for provider=google)","operationId":"ai_chat_api_v1_ai_chat_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/teach":{"post":{"tags":["features"],"summary":"Ai Teach","description":"Append a Q&A example used as few-shot guidance in future chats.\nStored locally in data/ai_examples.json.","operationId":"ai_teach_api_v1_ai_teach_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeachRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"Root endpoint with API information","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/exams":{"get":{"summary":"Get Exams","description":"Get list of supported exams","operationId":"get_exams_api_v1_exams_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/health":{"get":{"summary":"Health Check","description":"Health check endpoint","operationId":"health_check_api_v1_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AISummaryRequest":{"properties":{"college_name":{"type":"string","title":"College Name"}},"type":"object","required":["college_name"],"title":"AISummaryRequest"},"AlertSubscribeRequest":{"properties":{"email":{"type":"string","title":"Email"},"exam":{"type":"string","title":"Exam","default":"jee"}},"type":"object","required":["email"],"title":"AlertSubscribeRequest"},"ChatMessage":{"properties":{"role":{"type":"string","title":"Role"},"content":{"type":"string","title":"Content"}},"type":"object","required":["role","content"],"title":"ChatMessage"},"ChatRequest":{"properties":{"messages":{"items":{"$ref":"#/components/schemas/ChatMessage"},"type":"array","title":"Messages"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model"}},"type":"object","required":["messages"],"title":"ChatRequest"},"CompareRequest":{"properties":{"colleges":{"items":{"type":"string"},"type":"array","title":"Colleges"}},"type":"object","required":["colleges"],"title":"CompareRequest"},"FuturePredictionRequest":{"properties":{"exam":{"type":"string","title":"Exam"},"current_rank":{"type":"integer","title":"Current Rank"},"mock_test_scores":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Mock Test Scores"},"category":{"type":"string","title":"Category","default":"General"},"gender":{"type":"string","title":"Gender","default":"All"},"quota":{"type":"string","title":"Quota","default":"All India"}},"type":"object","required":["exam","current_rank"],"title":"FuturePredictionRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"PredictionRequest":{"properties":{"exam":{"type":"string","title":"Exam"},"rank":{"type":"integer","title":"Rank"},"category":{"type":"string","title":"Category","default":"General"},"gender":{"type":"string","title":"Gender","default":"All"},"quota":{"type":"string","title":"Quota","default":"All India"},"tolerance_percent":{"type":"number","title":"Tolerance Percent","default":0.0},"states":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"States"},"load_full_data":{"type":"boolean","title":"Load Full Data","default":false},"limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limit","default":10000}},"type":"object","required":["exam","rank"],"title":"PredictionRequest"},"PredictionResponse":{"properties":{"exam":{"type":"string","title":"Exam"},"rank":{"type":"integer","title":"Rank"},"category":{"type":"string","title":"Category"},"predictions":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Predictions"},"response_time":{"type":"number","title":"Response Time"},"data_source":{"type":"string","title":"Data Source"}},"type":"object","required":["exam","rank","category","predictions","response_time","data_source"],"title":"PredictionResponse"},"SaveRequest":{"properties":{"user_id":{"type":"string","title":"User Id"},"college":{"type":"string","title":"College"}},"type":"object","required":["user_id","college"],"title":"SaveRequest"},"TeachRequest":{"properties":{"question":{"type":"string","title":"Question"},"answer":{"type":"string","title":"Answer"}},"type":"object","required":["question","answer"],"title":"TeachRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}